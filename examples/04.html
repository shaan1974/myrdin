<!DOCTYPE html>
<html lang="en">

<!-- POLYFILL FOR MSIE -->
<script src="../polyfill.js"></script>
<!-- /POLYFILL FOR MSIE -->

<!-- DEPENDENCIES -->
<script src="https://cdn.jsdelivr.net/npm/javascript-obfuscator/dist/index.browser.js"></script>
<script src="../dependencies/momentjs/moment.min.js"></script>
<script src="../dependencies/momentjs/locale/fr.js"></script>
<script src="../dependencies/accounting/accounting.js"></script>
<script src="../dependencies/text-clipper/2.js"></script>
<!-- /DEPENDENCIES -->

<!-- DATA -->
<script src="../data/json.js"></script>
<script src="../data/template.js"></script>
<!-- /DATA -->

<!-- ENGINE -->
<script src="../_engine.js"></script>

<script src="../filters/_.js"></script>
<script src="../filters/string.js"></script>
<script src="../filters/number.js"></script>
<script src="../filters/array.js"></script>
<script src="../filters/date.js"></script>

<script src="../functions.js"></script>

<script src="../build/_.js"></script>
<script src="../build/fcts.js"></script>

<script src="../expressions/_.js"></script>
<script src="../expressions/string.js"></script>
<script src="../expressions/number.js"></script>
<script src="../expressions/date.js"></script>
<script src="../expressions/list.js"></script>
<script src="../expressions/array.js"></script>
<script src="../expressions/object.js"></script>
<script src="../expressions/zz.js"></script>


<script src="../vars.js"></script>
<script src="../options.js"></script>
<script src="../expressions.js"></script>

<script src="../helpers/_.js"></script>
<script src="../helpers/utils.js"></script>
<script src="../helpers/date.js"></script>
<script src="../helpers/string.js"></script>
<!-- /ENGINE -->

<script>
    function init() {

        _m.addHelper("avg", "var sum = parm1.reduce(function(previous, current){ return current += previous; }); return (sum / parm1.length);");
        _m.addFilter("avg2", "var sum = a.reduce(function(previous, current){ return current += previous; }); return (sum / a.length);");
        _m.debug = true;
        _m.precompile = true;
        console.clear();
        console.time("Total");
        _m(jsonData, template, "#content")
        console.timeEnd("Total");

        console.log(_m.generatedPrecompiledCode);

    }
</script>

<body onload="init()">

    <h5>Precompiled Code</h5>
    <textarea id="pc"><</textarea>
    <h5>Template into a variable:</h5>

    <div id="content">
    </div>

</body>

</html>